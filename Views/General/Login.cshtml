@{
    ViewBag.Title = "Iniciar Sesión";
}

<link rel="stylesheet" href="@Url.Content("~/Estilos/estilos.css")">

<div class="contenedor">
    <div class="cont">
        <h2 class="titulo">Iniciar Sesión</h2>

        <form id="loginForm">
            <label for="numeroIdentidad">Número de Identidad:</label><br />
            <input type="text" id="documento" name="num_ident" required pattern="\d+" title="Solo se permiten números" /><br />

            <div class="input-contras-container">
                <label for="contraseña">Contraseña:</label><br />
                <input type="password" id="contraseña" name="contras_usu" required /><br />
                <span class="verContras" onclick="verContras('contraseña')">👁️</span>
            </div><br />

            <div class="cajaEnlace">
                <button type="button" onclick="solicitarCambioContrasena()" class="botonOlv">¿Olvidaste tu contraseña?</button>
            </div>
            <div class="cajaBoton">
                <button type="submit" class="botonForm">Ingresar</button>
            </div>
            <div class="cajaEnlace arriba">
                <a href="@Url.Action("RegistroCliente", "General")" class="enlace enlaceReg">Registrar</a>
            </div>

        </form>

    </div>

    <img class="imagenFondo" src="~/Imagenes/login.jpg" alt="">

    @* El mensaje de cambio de contraseña se muestra solo si TempData lo trae *@
    @if (TempData["CambioContrasena"] != null && (bool)TempData["CambioContrasena"] == true)
    {
        <div id="mensajeCambioContrasena" class="mensaje">
            <h2>Es necesario actualizar tu contraseña</h2>
            <p>Serás redirigido en unos segundos...</p>
        </div>
    }
</div>

<script src="@Url.Content("~/Scripts/InicioSesion.js")"></script>

<style>
    body {
        background-image: url('/Imagenes/fondo_login.png');
        background-size: cover;
        background-repeat: no-repeat;
        background-attachment: fixed;
        background-position: center;
    }

    .titulo {
        margin-top: -20px;
        margin-bottom: 40px;
        font-size: 2.1em;
    }

    label {
        font-size: 1.1em;
        font-weight: 700;
    }

    .contenedor {
        padding: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 110px;
        margin: auto;
    }

    .loginForm {
    }

    .cont {
        height: 430px;
        width: 700px;
        margin-top: 0;
        margin-left: 150px;
        flex-direction: column;
    }

    /* Estilo para el mensaje de alerta centrado */
    .mensaje {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background-color: #f8d7da;
        color: #721c24;
        padding: 20px;
        border-radius: 10px;
        text-align: center;
        font-size: 1.2em;
        z-index: 9999;
    }

        .mensaje h2 {
            margin: 0;
            font-size: 1.8em;
            font-weight: bold;
        }

        .mensaje p {
            margin: 10px 0 0 0;
        }

    .boton {
        font-size: 1em;
        margin-top: 0;
        color: #2f2f2f;
        text-shadow: none;
        background-color: #d9a86c;
    }

    .botonOlv {
        margin-top: -20px;
        background: none;
        border: none;
        box-shadow: none;
        font-weight: 500;
    }

        .botonOlv:hover {
            color: white;
            box-shadow: none;
            background: none;
        }

    .cajaEnlace {
        margin-top: 15px;
        text-align: center;
    }

    .enlace {
        text-align: center;
    }

        .enlace:hover {
            color: white;
        }

    .enlaceReg {
        text-decoration: underline;
    }

    .cajaBoton {
        margin-top: 5px;
        text-align: center;
    }

    .input-contras-container {
        position: relative;
        display: inline-block;
        width: 100%;
    }

        .input-contras-container input {
            width: 100%;
            padding-right: 40px; /* espacio para el icono */
            box-sizing: border-box;
        }

    .verContras {
        position: absolute;
        top: 65%;
        right: 10px;
        transform: translateY(-50%);
        cursor: pointer;
        font-size: 18px;
        user-select: none;
    }
</style>


